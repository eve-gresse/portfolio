<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Développement d’une solution pour la configuration automatique de capteurs GPS</title>
  <link rel="stylesheet" href="style_page.css" />
</head>


<body>
    <div class="title">
        <span class="left">Portfolio</span>
        <span class="center">Eve Gresse</span>
        <span class="right">Ingénieure Informatique</span>
    </div>
    <div class="container">
        <header>
            <h1>Développement d’une solution pour la configuration automatique de capteurs GPS</h1>
            <div class="subtitle">Stage – Airbus Defence and Space · Communication LoRaWAN · Plateforme IoT ThingWorx · Automatisation</div>
            <div>
                <span class="badge">LoRaWAN</span>
                <span class="badge">ThingWorx</span>
                <span class="badge">IoT</span>
                <span class="badge">Compact Trackers (Abeeway)</span>
            </div>
        </header>
    </div>

<section class="card" id="objectif">
        <p>
            Lors de mon stage chez Airbus Defence and Space, j'ai travaillé sur une solution  consistant à développer une solution
            permettant la configuration à distance et de manière automatique de capteurs via LoRaWAN.
            Les capteurs concernés étaient des Compact Trackers d’AbeewayⓇ.
        </p>

        <!-- image trackers -->

        <h2>1. Objectif</h2>
        
        <p>
            Le but de cette mission était de déployer ces Compact Trackers sur un grand nombre d’équipements logistiques ou industriels, afin de faciliter leur 
            localisation et réduire le temps nécessaire pour les retrouver. Le client avait commandé 250 dispositifs destinés à équiper  divers matériels
            comme des échelles, des boites a outils ou encore des élévateurs.
            La configuration manuelle représentant une tâche fastidieuse on m'a chargée de concevoir une solution permettant la configuration automatique
            de ces capteurs lors de leur première connexion au réseau.        
        </p>
        <p>
            L’objectif était alors de réduire au maximum l’intervention humaine lors la configuration des cpateurs : elle devait être envoyée automatiquement
            depuis ThingWorx lorsqu'ils étaient allumés et connectés pour la première fois au réseau. Cette automatisation permettait de gagner un
            temps considérable lors du déploiement.
        </p>

        <div class="callout">
            <strong>But</strong> : automatiser la configuration des capteurs pour la rendre plus <strong>rapide</strong> et <strong>fiable</strong>.
        </div>
        <figure class="image-container" >
            <img src="images/configuration_GPS.png" alt="Schéma de ce que l'on veut mettre en place." />
        </figure>
    </section>


    <section class="card" id="Démarche">
        <h2>2. Démarche</h2>
        <h3>2.1 Envoi de la configuration via LoRaWAN</h3>
        <p>
            J’ai tout d’abord exploré la possibilité d’envoyer la configuration via LoRaWAN. En regardant le
            projet déjà déployé sur ThingWorx je me suis rendue compte que non seulement c’était
            possible mais en plus cela avait déjà été mis en place.
            Cependant, l'utilisation de LoRaWAN impose de fortes contraintes :
        </p>
        <ul>
            <li>Une taille de payload <strong>limitée</strong> (environ 5 paramètres par message).</li>
            <li>Une fréquence <strong>restreinte</strong> d’envoi (un message toutes les 5 minutes).</li>
        </ul>
        <p>
            Or les capteurs ont 200 paramètres de configuration. L'envoi des données aurait donc pris 250 minutes (ou 4 heures). 
        </p>
        <p>
            Avec un collègue (Valentin P.), nous avons trouvé une stratégie : ne modifier que les paramètres différents de la
            configuration par défaut. Ce choix a permis de réduire le nombre de trames nécessaires, passant d’environ 200 à seulement une vingtaine.
        </p>
        <p>
            Un autre problème restait toutefois à résoudre : que faire si un capteur n’avait pas la configuration par défaut initialement ?
            Nous ne pouvions pas demander au capteur de nous envoyer ses
            paramètres cinq par cinq pour la même raison que précédemment. Nous avons alors trouvé un moyen de réinitialiser les capteurs
            via le protocole LoRaWAN. 
        </p>

        <figure class="image-container">
            <img src="images/Logique_GPS.png" alt="Schéma de l'architecture logique mise en place." />
            <figcaption>Schéma de la logique que nous avons décidé de mettre en place</figcaption>
        </figure>

        <h3>2.2 Développement de la solution</h3>
        <p>
            J’ai ensuite développé l’ensemble du script de configuration.
            Comme c’était ma première expérience avec l’envoi de données vers un capteur LoRaWAN, j’ai dû me familiariser avec les trois classes de capteurs LoRaWAN.
            Les Compact Trackers étant de classe A, ils ne peuvent recevoir une configuration qu’au moment où ils envoient eux-mêmes une donnée.
        </p>
        <p>
            J’ai donc conçu un système basé sur les événements event_up de ThingWorx :
        </p>
        <ul>
            <li>A chaque transmission du capteur, un payload de configuration lui est renvoyé.</li>
            <li>La configuration est découpée en lots de 5 paramètres.</li>
            <li>Les lots sont stockés dans un tableau associé à l’objet Thing correspondant au capteur.</li>
        </ul>
        <p>
            Restait à garantir que la configuration avait bien été appliquée. En effet, avec LoRaWAN, les messages peuvent être perdus.
            Heureusement, les Compact Trackers renvoient un ACK, qui confirme non seulement la réception mais aussi le contenu exact du message reçu.
            J’ai donc mis en place un script supplémentaire permettant de :
        </p>
        <ul>
            <li>Comparer les ACK attendus et reçu.</li>
            <li>Renvoyer les trames en cas d’échec.</li>
            <li>Envoyer les lots suivants uniquement si la réception des précédents est confirmée.</li>
        </ul>
        <p>
            Pour automatiser totalement le processus, j’ai ajouté une propriété dans le Thing Template :
        </p>
        <ul>
            <li>Cette propriété est initialisée à 1 lors de la création d’un nouvel objet.</li>
            <li>Elle déclenche automatiquement la configuration.</li>
            <li>Elle est remise à 0 une fois la configuration terminée.</li>
            <li>Il reste possible de relancer une configuration à distance en réactivant la propriété.</li>
        </ul>

        
        <figure class="image-container">
            <img src="images/schema_gps.png" alt="Schéma de l'architecture logique mise en place." />
            <figcaption>Schéma de l'architecture logique mise en place.</figcaption>
        </figure>


    </section>

    

    <section class="last_card">
        <section class="card" id="demarche">
            <h2>3. Résultats</h2>
          
            <p>
                Grâce à cette solution, les Compact Trackers reçoivent désormais automatiquement leur configuration lors de leur première connexion à ThingWorx.
            </p>
            <p>
                Cette mission m’a permis d’appliquer une démarche complète d’ingénierie :
            </p>
            <ul>
                <li>Analyse d’un besoin.</li>
                <li>Etude de l’existant.</li>
                <li>Conception et structuration logicielle.</li>
                <li>Prise en compte de contraintes matérielles et protocolaires.</li>
            </ul>
            
        </section>
    </section>
    
     
    <div class="footer">
        <p>Contact : evegressepro@gmail.com, 0650663766</p>
        <a href="about.html">À propos de moi</a>
    </div>
</body>


</html>
